<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <link rel="stylesheet" href="../common.css" />
    <link rel="stylesheet" href="options.css" />
    <script defer src="options.mjs" type="module"></script>
    <title>Itemize Receipts - Settings</title>
  </head>

  <body>
    <main>
      <h1>Itemize Receipts - Settings</h1>
      <ul>
        <li>Select your provider and paste your API key.</li>
        <li>Enter a passphrase to encrypt your key.</li>
        <li>To set, change, or reselect models, click "Refresh" after entering the passphrase.</li>
        <li>Select the models you want to use. Hold <kbd>Ctrl</kbd> to select multiple models.</li>
        <li>Click on "Save Settings" to save your changes.</li>
      </ul>

      <form id="settings">
        <div>
          <label for="apiUrlSelect">OpenAI-compatible URL</label>
          <select name="apiUrlSelect" id="apiUrlSelect">
            <option value="https://api.openai.com/v1">OpenAI</option>
            <option value="https://openrouter.ai/api/v1">OpenRouter</option>
            <option value="OTHER">Other</option>
          </select>
        </div>

        <div>
          <input type="text" disabled
            name="apiUrl" id="apiUrl"
            placeholder="https://api.openai.com/v1"
            required
            autocomplete="off" />
        </div>

        <div>
          <label for="apiKey">API Key</label>
          <input type="password"
            name="apiKey" id="apiKey"
            placeholder="sk-or-v1-..." />
        </div>

        <div>
          <label for="passphrase">Passphrase (used to encrypt API Key)</label>
          <input type="password" required
            name="passphrase" id="passphrase"
            placeholder="Enter a passphrase to encrypt your key"
            autocomplete="new-password" />
        </div>

        <div>
          <label for="models">Models</label>
          <select multiple name="models" id="available-models">
          </select>
          <button id="refresh-models">Refresh</button>
        </div>

        <div id="buttons">
          <button id="save-settings" type="submit">Save Settings</button>
        </div>
      </form>
    </main>
    <footer>
      <div class="footer-links">
        <a href="#" id="openAbout">About</a>
      </div>
    </footer>
  </body>
</html>
