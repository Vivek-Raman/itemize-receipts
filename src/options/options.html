<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <link rel="stylesheet" href="../common.css" />
    <link rel="stylesheet" href="options.css" />
    <script defer src="options.mjs" type="module"></script>
    <title>Itemize Receipts - Settings</title>
  </head>

  <body>
    <main>
      <h1>Settings</h1>

      <form id="settings">
        <h2>AI Settings</h2>
        <p>
          Configure the AI settings for the extension.
        </p>

        <div>
          <label for="apiUrlSelect">OpenAI-compatible URL</label>
          <select name="apiUrlSelect" id="apiUrlSelect">
            <option value="https://api.openai.com/v1">OpenAI</option>
            <option value="https://openrouter.ai/api/v1">OpenRouter</option>
            <option value="OTHER">Other</option>
          </select>
        </div>

        <div>
          <input type="text" disabled
            name="apiUrl" id="apiUrl"
            placeholder="https://api.openai.com/v1"
            required
            autocomplete="off" />
        </div>

        <div>
          <label for="apiKey">API Key</label>
          <input type="password"
            name="apiKey" id="apiKey"
            required
            placeholder="sk-or-v1-..." />
        </div>

        <div>
          <label for="passphrase">Passphrase (used to encrypt API Key)</label>
          <input type="password" required
            name="passphrase" id="passphrase"
            placeholder="Enter a passphrase to encrypt your key"
            autocomplete="new-password" />
        </div>

        <div>
          <button id="save-secret" type="button">Save API Key Securely</button>
        </div>

        <div>
          <label for="models">Models</label>
          <select multiple name="models" id="available-models">
          </select>
          <button id="refresh-models">Refresh</button>
        </div>
      </form>

      <div id="status" class="status"></div>
    </main>
    <footer>
      <div class="footer-links">
        <a href="#" id="openAbout">About</a>
      </div>
    </footer>
  </body>
</html>
